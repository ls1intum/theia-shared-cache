{{- if .Values.enabled }}
Gradle Build Cache has been deployed!

1. Get the cache server URL:

   export CACHE_URL=http://{{ .Release.Name }}-cache:8080

2. Port-forward to access the cache locally:

   kubectl --namespace {{ .Release.Namespace }} port-forward svc/{{ .Release.Name }}-cache 8080:8080

3. Test the cache server:

   curl http://localhost:8080/ping
   curl http://localhost:8080/health

4. Configure your Gradle build (settings.gradle.kts):

   buildCache {
       remote<HttpBuildCache> {
           url = uri("$CACHE_URL/cache/")
           credentials {
               username = "{{ .Values.auth.username }}"
               password = "<your-password>"
           }
           isPush = true
       }
   }

5. MinIO console (for debugging):

   kubectl --namespace {{ .Release.Namespace }} port-forward svc/{{ .Release.Name }}-minio 9001:9001

   Then open http://localhost:9001
   Username: minioadmin
   Password: minioadmin
{{- else }}
Gradle Build Cache is disabled (enabled: false).
No resources have been deployed.
{{- end }}
