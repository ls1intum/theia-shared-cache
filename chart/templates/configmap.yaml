apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-config
  labels:
    app: {{ .Release.Name }}
    component: cache-server
data:
  config.yaml: |
    server:
      port: 8080
      read_timeout: 30s
      write_timeout: 120s

    storage:
      endpoint: "{{ .Release.Name }}-minio:9000"
      bucket: "gradle-cache"
      use_ssl: false

    cache:
      max_entry_size_mb: 100

    auth:
      enabled: true
      users:
        - username: {{ .Values.auth.username | quote }}

    logging:
      level: "info"
      format: "json"
