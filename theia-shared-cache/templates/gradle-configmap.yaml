apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "theia-shared-cache.fullname" . }}-gradle-config
  labels:
    app: {{ include "theia-shared-cache.name" . }}
    chart: {{ .Chart.Name }}-{{ .Chart.Version }}
data:
  gradle.properties: |-
    org.gradle.caching=true
    org.gradle.caching.remote.push=true
    # Use the release-scoped service name so DNS resolves correctly within the cluster
    org.gradle.caching.remote.url=http://{{ include "theia-shared-cache.fullname" . }}-node.{{ .Release.Namespace }}.svc.cluster.local:5071